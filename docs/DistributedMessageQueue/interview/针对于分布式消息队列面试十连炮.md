# 面试题

## 问题1:面试官看到你简历中用到了消息队列,就会问你在系统中是如何使用队列的(主要考察消息队列的使用场景)？

候选人：我们XX(订单,用户等)系统发送个啥啥消息到队列，别的XX系统来消费啥啥的（很多同学在这里会进入一个误区，就是你仅仅就是知道以及回答你们是怎么用这个消息队列的，用这个消息队列来干了个什么事情？）

其实比较不错的回复应该是这样：我们有个订单系统，订单系统会每次下一个新的订单的时候，就会发送时一条消息到ActiveMQ里面去，后台有个库存系统负责获取了消息然后更新库存。


## 问题2:那你们为什么使用消息队列啊？

候选人：额。。。（楞了一下，为什么？我没怎么仔细想过啊，老大让用就用了），硬着头皮胡言乱语了几句。有时候是领导定技术方案，自己就是一个打工仔，即使自己有想法大部分情况也会被领导压下去，甚至这个框架你可能只是听说过，还没用过，但过一段时间就要项目上线了，内心贼慌就硬的头皮开始测试开发了。

（面试官此时听你楞了一下，然后听你胡言乱语了几句，开始心里觉得有点儿那什么了，怀疑你之前就压根儿没思考过这问题）


## 问题3:那你说说用消息队列都有什么优点和缺点？（面试官此时心里想的是，你的MQ在项目里为啥要用？你没考虑过，那我稍微简单点儿，我问问你消息队列你之前有没有考虑过如果用的话，优点和缺点分别是啥？）

候选人：这个。。。（确实平时没怎么考虑过这个问题,技术方案都是领导定的,也不好去否决。。。就胡言乱语了）

（面试官此时心里已经更觉得你这哥儿们不行，平时都没什么思考）

## 问题4:kafka、activemq、rabbitmq、rocketmq都有什么区别？（面试官问你这个问题，就是说，绕过比较虚的话题，直接看看你对各种MQ中间件是否了解，是否做过功课，是否做过调研）

候选人：我们就用过activemq，所以别的没用过。。。区别，也不太清楚

（面试官此时却是觉得你这哥儿们平时就是瞎用，根本就没什么思考，觉得不行）

## 问题5:那你们是如何保证消息队列的高可用啊？

候选人：这个。。。我平时就是简单走api调用一下，不太清楚消息队列怎么部署的。。。

## 问题6:如何保证消息不被重复消费啊？如何保证消费的时候是幂等的啊？

候选人：啥？（mq不就是写入和消费就可以了，哪来这么多问题）

## 问题7:如何保证消息的可靠性传输啊？要是消息丢失了怎么办啊？

候选人：我们没怎么丢过消息啊。。。

## 问题8:面试官：那如何保证消息的顺序性？

候选人：顺序性？什么意思？我为什么要保证消息的顺序性？

## 问题9:面试官：如何解决消息队列的延时以及过期失效问题？消息队列满了以后该怎么处理？有几百万消息持续积压几小时，说说怎么解决？

候选人：不是，我这平时没遇到过这些问题啊，就是简单用用，知道mq的一些功能

## 问题10:面试官：如果让你写一个消息队列，该如何进行架构设计啊？说一下你的思路(其实这块面试官都不再想继续面试下去了，给面试官的感觉就是候选人也就是会一些API,基本上没掌握MQ的概念，就没必要面试下去了)

候选人：我。。。。。(基本上已经对这次面试失去了信心)


## 重点！！！

对于每个小话题，比如说MQ，我们会从浅入深，这个上面的这个面试套路其实是蛮典型的，如果你确实说自己会MQ，你出去面试，去一些大公司面试，有些面试官可能就是这种风格，就是一步一步深挖

其实上面是一个非常典型的关于消息队列的技术考察过程，好的面试官一定是从你做过的某一个点切入，然后层层展开深入考察，一个接一个问，直到把这个技术点刨根问底，问到最底层。

如果没有刻意的对这种面试方式锻炼一下，出去面试碰到难一点的面试，大多会手忙脚乱，基本面试以失败为告终。

但是如果你把这些常见问题都掌握了，哪怕是面试官没问到你这么深入，他问你一个消息队列问题，你就自己给他说出自己的一整套见解，那么恭喜你，就是plus加分项了

最后希望这篇文章对正在观看你的有一定帮助,能够了解一些面试的套路，拿到一个自己满意的offer，在技术的道路上越走越远。
